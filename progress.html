<html lang="en"> 

<head>
  <title>Percentage of year</title>
  <meta charset="utf-8">

  <style>
html body {
  background-color: white;
}

#wrapper {
    max-width: 960px;
    margin-left: auto;
    margin-right: auto;
  padding-right: 10px; /* 3 */
  padding-left:  10px; /* 3 */
  padding-bottom:  10px; /* 3 */
  font-family: arial;
  font-size: .8em;
  color: #5f8dd3ff;
  border: 1px #efefee solid;
}
.title {
  margin-bottom: 0;
    font-weight: 500;
}

.myProgress {
  background-color: #5f8dd3ff;
  padding: 2px;
  margin: 1px;
  border-radius:16px!important
}

.myBarYear {
  padding: 1px;
  background-color: #efefef;
  border-radius:16px!important
}

.myBarMonth {
  padding: 1px;
  background-color: #efefef;
  border-radius:16px!important
}
  </style>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

  <script type="text/javascript">
    //script to calculate the percentage of YEAR complete
    
    var startYear = new Date(new Date().getFullYear(), 0, 1);
    var endYear = new Date(new Date().getFullYear(), 11, 31);
    var date = new Date(),
      y = date.getFullYear(),
      m = date.getMonth();
    today = new Date();
    //calculate percent of year complete
    var timeElapsedYear = (Math.floor(((today - startYear) / (endYear - startYear)) * 100));
    $(document).ready(function() {
      var progressBarVal;
      
      progressBarVal = timeElapsedYear; // passes the percentage
      var html = "<div class='myProgress' aria-valuenow=" + progressBarVal + " aria-valuemin='0' aria-valuemax='100' style='width:" + progressBarVal + "%'></div>";
      $(".myBarYear").append(html); // displays the year progress bar
      document.getElementById("currentYear").innerHTML = y; //gets the year to display
      document.getElementById("percentYear").innerHTML = progressBarVal; // passes the percentage to display 
    });
  </script>

  <script type="text/javascript">
    //This script calculates the percentage of the current MONTH complete
    
    const monthNames = ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"]; //array for month names
    const d = new Date();
    const currentMonth = date.toLocaleString('default', {
      month: 'long'
    }); // all this is just to display the month name in the html

    // this is the calculation stuff...
    var startYear = new Date(new Date().getFullYear(), 0, 1);
    var endYear = new Date(new Date().getFullYear(), 11, 31);
    var startMonth = new Date(y, m, 1);
    var endMonth = new Date(y, m + 1, 1);
    today = new Date();
    var timeElapsedMonth = (Math.floor(((today - startMonth) / (endMonth - startMonth)) * 100));
    $(document).ready(function() {
      var progressBarMonth;

      progressBarMonth = timeElapsedMonth; // passes the percentage
      var p = "<div class='myProgress'" + progressBarMonth + " style='width:" + progressBarMonth + "%'><div>";
      
      $(".myBarMonth").append(p); //displays the progress bar
      document.getElementById("percentMonth").innerHTML = progressBarMonth; //displays the percentage
      document.getElementById("thisMonth").innerHTML = currentMonth; //passes the month name to display
      
    });
  </script>
</head>

<body>
  <div id='wrapper'>

    <p class="title"><span id="thisMonth"></span> is <span id="percentMonth"></span>% complete</p>
    <div class="myProgress">
      <div class="myBarMonth"></div>
    </div>

    <p class="title"><span id="currentYear"></span> is <span id="percentYear"></span>% complete</p>
    <div class="myProgress">
      <div class="myBarYear"></div>
    </div>

  </div>
</body>

</html>
